1. Switch stm is complex
- calculating the charge for one performance => extract function amountFor
- rename thisAmount variable
- rename perf param

2. Look at func amountFor() usage: the play param is from a calculation from performance
const play = plays[perf.playID];

=> play is a temp var in a loop 
=> play usage repeated a lot
=> replace temp var with query playFor(aPerformance)

- rename param perf -> aPerformance
- remove temp var, use inline func call playFor()
- remove redundant func param of amountFor: remove play param
- remove temp var thisAmount, use inline func call amountFor()

3. extract volumeCredits calculation function
- split loop calculation for volumeCredits, slide variable volumeCredits
- extract func calculate volumeCredits base on performance's audience and play type: volumeCreditsFor()
- rename perf param -> aPerformance
- extract func sum of volumeCredits: totalVolumeCreditsFor()
- remove temp var volumeCredits, use inline func totalVolumeCreditsFor()

4. Remove temp variable - format
- extract func format creation to func format(aNumber)
- rename func format -> usd, a better name
- move duplication money conversion divide by 100 to usb() func

5. Rename var and func name
- totalVolumeCreditsFor -> totalVolumeCredits
- volumeCredits -> result

6. Removing totalAmount temp var
- split loop, slide statement related to totalAmount calculation
- extract func calcTotalAmount()
- remove temp var totalAmount, using inline func calcTotalAmount()
- rename temp var in calcTotalAmount -> result
- rename func calcTotalAmount -> totalAmount()

7. Split phase: extract render functionality from data calculation
- extract func renderPlainText() from statement()
- Split phase: passing intermediate data
- Split phase: remove invoice param
- split phase: move playFor func
- split phase: move amountFor func
- split phase: move volumeCreditsFor func
- split phase: move totalAmount
- split phase: move totalVolumeCreditsFor
- split phase: use map-reduce to calc instead of loop
- Finish split phase: split createStatementData, renderPlainText
- remove temp var statementData, unused plays param

8. Separate files: createStatementData.js

9. Implement req1: statement in HTML
